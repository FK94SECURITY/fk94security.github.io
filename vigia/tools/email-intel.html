<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Intelligence - Vig√≠a by FK94 Security</title>
    <meta name="description" content="Analiz√° la exposici√≥n de un email: breaches, cuentas asociadas, Gravatar, y m√°s. Gratis y privado.">
    <link rel="icon" type="image/svg+xml" href="../favicon.svg">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }

        :root {
            --bg: #0a0a0b;
            --bg-card: #18181b;
            --bg-card-hover: #1f1f23;
            --text: #fafafa;
            --text-muted: #71717a;
            --accent: #10b981;
            --accent-hover: #059669;
            --border: #27272a;
            --red: #ef4444;
            --yellow: #eab308;
            --blue: #3b82f6;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 24px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid var(--border);
            margin-bottom: 40px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: var(--text);
        }

        .logo svg { width: 36px; height: 36px; }
        .logo span { font-size: 1.25rem; font-weight: 700; }

        .back-link {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.9rem;
        }
        .back-link:hover { color: var(--accent); }

        .hero {
            text-align: center;
            margin-bottom: 48px;
        }

        .hero h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 16px;
        }

        .hero h1 .accent { color: var(--accent); }

        .hero p {
            color: var(--text-muted);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .search-box {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 32px;
        }

        .input-group {
            display: flex;
            gap: 12px;
        }

        .input-group input {
            flex: 1;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 16px 20px;
            font-size: 1.1rem;
            color: var(--text);
            outline: none;
            transition: border-color 0.2s;
        }

        .input-group input:focus { border-color: var(--accent); }
        .input-group input::placeholder { color: var(--text-muted); }

        .btn {
            background: var(--accent);
            color: var(--bg);
            border: none;
            border-radius: 8px;
            padding: 16px 32px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            background: var(--accent-hover);
            transform: translateY(-1px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .results { display: none; }
        .results.active { display: block; }

        .section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            margin-bottom: 24px;
            overflow: hidden;
        }

        .section-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: rgba(16, 185, 129, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }

        .section-title h3 {
            font-size: 1.1rem;
            margin-bottom: 4px;
        }

        .section-title p {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .section-content {
            padding: 24px;
        }

        /* Gravatar */
        .gravatar-result {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .gravatar-img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--border);
        }

        .gravatar-info h4 {
            margin-bottom: 4px;
        }

        .gravatar-info p {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status-badge.found {
            background: rgba(16, 185, 129, 0.1);
            color: var(--accent);
        }

        .status-badge.not-found {
            background: rgba(113, 113, 122, 0.1);
            color: var(--text-muted);
        }

        /* Links list */
        .links-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .link-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background: var(--bg);
            border-radius: 8px;
            text-decoration: none;
            color: var(--text);
            transition: background 0.2s;
        }

        .link-item:hover {
            background: var(--bg-card-hover);
        }

        .link-item span {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        /* Google Dorks */
        .dorks-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .dork-item {
            background: var(--bg);
            border-radius: 8px;
            padding: 16px;
        }

        .dork-query {
            font-family: 'SF Mono', 'Fira Code', monospace;
            font-size: 0.9rem;
            color: var(--accent);
            background: rgba(16, 185, 129, 0.1);
            padding: 8px 12px;
            border-radius: 6px;
            margin-bottom: 8px;
            word-break: break-all;
        }

        .dork-desc {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .copy-btn {
            background: var(--bg-card);
            border: 1px solid var(--border);
            color: var(--text);
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            margin-top: 8px;
        }

        .copy-btn:hover {
            background: var(--bg-card-hover);
        }

        /* Risk section */
        .risk-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .risk-item {
            background: var(--bg);
            border-radius: 8px;
            padding: 16px;
        }

        .risk-item h4 {
            color: var(--red);
            font-size: 0.9rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .risk-item p {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        /* Recommendations */
        .rec-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .rec-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px 16px;
            background: var(--bg);
            border-radius: 8px;
        }

        .rec-icon {
            color: var(--accent);
            font-size: 1.1rem;
        }

        .rec-text {
            font-size: 0.95rem;
        }

        footer {
            margin-top: 60px;
            padding: 24px 0;
            border-top: 1px solid var(--border);
            text-align: center;
        }

        .powered-by {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .powered-by a {
            color: var(--accent);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        @media (max-width: 640px) {
            .hero h1 { font-size: 1.75rem; }
            .input-group { flex-direction: column; }
            .btn { width: 100%; justify-content: center; }
            .risk-grid { grid-template-columns: 1fr; }
            .gravatar-result { flex-direction: column; text-align: center; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="../" class="logo">
                <svg viewBox="0 0 48 48" fill="none">
                    <g transform="translate(4, 4)">
                        <path d="M4 20C4 20 11 6 20 6C29 6 36 20 36 20C36 20 29 34 20 34C11 34 4 20 4 20Z" stroke="#10b981" stroke-width="2.5" fill="none"/>
                        <circle cx="20" cy="20" r="8" fill="#10b981"/>
                        <circle cx="20" cy="20" r="3.5" fill="#0a0a0b"/>
                    </g>
                </svg>
                <span>VIG√çA</span>
            </a>
            <a href="../" class="back-link">‚Üê Volver</a>
        </header>

        <main>
            <div class="hero">
                <h1>üìß Email <span class="accent">Intelligence</span></h1>
                <p>Analiz√° qu√© informaci√≥n est√° expuesta a partir de un email. Encontr√° cuentas asociadas, foto de perfil, y m√°s.</p>
            </div>

            <div class="search-box">
                <div class="input-group">
                    <input type="email" id="email" placeholder="Ingres√° un email (ej: juan@gmail.com)" autocomplete="off">
                    <button class="btn" id="analyzeBtn" onclick="analyzeEmail()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35"/>
                        </svg>
                        Analizar
                    </button>
                </div>
            </div>

            <div class="results" id="results">
                <!-- Gravatar Section -->
                <div class="section">
                    <div class="section-header">
                        <div class="section-icon">üë§</div>
                        <div class="section-title">
                            <h3>Gravatar</h3>
                            <p>Foto de perfil global asociada al email</p>
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="gravatar-result" id="gravatarResult">
                            <!-- Filled by JS -->
                        </div>
                    </div>
                </div>

                <!-- Breach Check Section -->
                <div class="section">
                    <div class="section-header">
                        <div class="section-icon">üîì</div>
                        <div class="section-title">
                            <h3>Verificar Breaches</h3>
                            <p>Filtraciones de datos donde aparece este email</p>
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="links-list">
                            <a class="link-item" id="hibpLink" href="#" target="_blank">
                                Have I Been Pwned
                                <span>Verificar ‚Üí</span>
                            </a>
                            <a class="link-item" href="https://monitor.firefox.com/" target="_blank">
                                Firefox Monitor
                                <span>Verificar ‚Üí</span>
                            </a>
                            <a class="link-item" href="https://dehashed.com/" target="_blank">
                                DeHashed
                                <span>Verificar ‚Üí</span>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Associated Accounts -->
                <div class="section">
                    <div class="section-header">
                        <div class="section-icon">üîó</div>
                        <div class="section-title">
                            <h3>Cuentas Posibles</h3>
                            <p>Sitios donde podr√≠a existir una cuenta con el username del email</p>
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="links-list" id="accountsList">
                            <!-- Filled by JS -->
                        </div>
                    </div>
                </div>

                <!-- Google Dorks -->
                <div class="section">
                    <div class="section-header">
                        <div class="section-icon">üîç</div>
                        <div class="section-title">
                            <h3>Google Dorks</h3>
                            <p>B√∫squedas avanzadas para encontrar m√°s informaci√≥n</p>
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="dorks-list" id="dorksList">
                            <!-- Filled by JS -->
                        </div>
                    </div>
                </div>

                <!-- Risks -->
                <div class="section">
                    <div class="section-header">
                        <div class="section-icon">‚ö†Ô∏è</div>
                        <div class="section-title">
                            <h3>Riesgos Potenciales</h3>
                            <p>Qu√© puede hacer un atacante con esta informaci√≥n</p>
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="risk-grid">
                            <div class="risk-item">
                                <h4>üé£ Phishing Personalizado</h4>
                                <p>Emails falsos mencionando sitios donde ten√©s cuenta para robar credenciales.</p>
                            </div>
                            <div class="risk-item">
                                <h4>üé≠ Ingenier√≠a Social</h4>
                                <p>Usar info de reviews y redes para ganar tu confianza y manipularte.</p>
                            </div>
                            <div class="risk-item">
                                <h4>üîë Credential Stuffing</h4>
                                <p>Si un password fue filtrado, probarlo en todas tus otras cuentas.</p>
                            </div>
                            <div class="risk-item">
                                <h4>üìû Vishing/Smishing</h4>
                                <p>Llamadas o SMS falsos con datos reales para parecer leg√≠timos.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recommendations -->
                <div class="section">
                    <div class="section-header">
                        <div class="section-icon">‚úÖ</div>
                        <div class="section-title">
                            <h3>Recomendaciones</h3>
                            <p>C√≥mo protegerte</p>
                        </div>
                    </div>
                    <div class="section-content">
                        <div class="rec-list">
                            <div class="rec-item">
                                <span class="rec-icon">üîê</span>
                                <span class="rec-text">Us√° un password √∫nico para cada sitio (password manager)</span>
                            </div>
                            <div class="rec-item">
                                <span class="rec-icon">üì±</span>
                                <span class="rec-text">Activ√° 2FA en todas tus cuentas importantes</span>
                            </div>
                            <div class="rec-item">
                                <span class="rec-icon">üìß</span>
                                <span class="rec-text">Us√° email aliases para registros (SimpleLogin, Firefox Relay)</span>
                            </div>
                            <div class="rec-item">
                                <span class="rec-icon">üîî</span>
                                <span class="rec-text">Configur√° alertas en haveibeenpwned.com</span>
                            </div>
                            <div class="rec-item">
                                <span class="rec-icon">üßπ</span>
                                <span class="rec-text">Revis√° y borr√° reviews que revelen patrones de vida</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <div class="powered-by">
                Creado por
                <a href="https://fk94security.com">
                    <svg width="16" height="20" viewBox="0 0 24 28" fill="none">
                        <path d="M12 2L2 6V12C2 18.6 6.4 24.6 12 26C17.6 24.6 22 18.6 22 12V6L12 2Z" stroke="#10b981" stroke-width="1.5" fill="none"/>
                        <path d="M8 13L11 16L16 11" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    FK94 Security
                </a>
            </div>
        </footer>
    </div>

    <script>
        // MD5 hash function for Gravatar
        function md5(string) {
            function rotateLeft(lValue, iShiftBits) {
                return (lValue << iShiftBits) | (lValue >>> (32 - iShiftBits));
            }
            function addUnsigned(lX, lY) {
                var lX8 = (lX & 0x80000000);
                var lY8 = (lY & 0x80000000);
                var lX4 = (lX & 0x40000000);
                var lY4 = (lY & 0x40000000);
                var lResult = (lX & 0x3FFFFFFF) + (lY & 0x3FFFFFFF);
                if (lX4 & lY4) return (lResult ^ 0x80000000 ^ lX8 ^ lY8);
                if (lX4 | lY4) {
                    if (lResult & 0x40000000) return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);
                    else return (lResult ^ 0x40000000 ^ lX8 ^ lY8);
                } else return (lResult ^ lX8 ^ lY8);
            }
            function F(x, y, z) { return (x & y) | ((~x) & z); }
            function G(x, y, z) { return (x & z) | (y & (~z)); }
            function H(x, y, z) { return (x ^ y ^ z); }
            function I(x, y, z) { return (y ^ (x | (~z))); }
            function FF(a, b, c, d, x, s, ac) {
                a = addUnsigned(a, addUnsigned(addUnsigned(F(b, c, d), x), ac));
                return addUnsigned(rotateLeft(a, s), b);
            }
            function GG(a, b, c, d, x, s, ac) {
                a = addUnsigned(a, addUnsigned(addUnsigned(G(b, c, d), x), ac));
                return addUnsigned(rotateLeft(a, s), b);
            }
            function HH(a, b, c, d, x, s, ac) {
                a = addUnsigned(a, addUnsigned(addUnsigned(H(b, c, d), x), ac));
                return addUnsigned(rotateLeft(a, s), b);
            }
            function II(a, b, c, d, x, s, ac) {
                a = addUnsigned(a, addUnsigned(addUnsigned(I(b, c, d), x), ac));
                return addUnsigned(rotateLeft(a, s), b);
            }
            function convertToWordArray(string) {
                var lWordCount;
                var lMessageLength = string.length;
                var lNumberOfWords_temp1 = lMessageLength + 8;
                var lNumberOfWords_temp2 = (lNumberOfWords_temp1 - (lNumberOfWords_temp1 % 64)) / 64;
                var lNumberOfWords = (lNumberOfWords_temp2 + 1) * 16;
                var lWordArray = Array(lNumberOfWords - 1);
                var lBytePosition = 0;
                var lByteCount = 0;
                while (lByteCount < lMessageLength) {
                    lWordCount = (lByteCount - (lByteCount % 4)) / 4;
                    lBytePosition = (lByteCount % 4) * 8;
                    lWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount) << lBytePosition));
                    lByteCount++;
                }
                lWordCount = (lByteCount - (lByteCount % 4)) / 4;
                lBytePosition = (lByteCount % 4) * 8;
                lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80 << lBytePosition);
                lWordArray[lNumberOfWords - 2] = lMessageLength << 3;
                lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;
                return lWordArray;
            }
            function wordToHex(lValue) {
                var WordToHexValue = "", WordToHexValue_temp = "", lByte, lCount;
                for (lCount = 0; lCount <= 3; lCount++) {
                    lByte = (lValue >>> (lCount * 8)) & 255;
                    WordToHexValue_temp = "0" + lByte.toString(16);
                    WordToHexValue = WordToHexValue + WordToHexValue_temp.substr(WordToHexValue_temp.length - 2, 2);
                }
                return WordToHexValue;
            }
            var x = convertToWordArray(string);
            var a = 0x67452301; var b = 0xEFCDAB89; var c = 0x98BADCFE; var d = 0x10325476;
            var S11 = 7, S12 = 12, S13 = 17, S14 = 22;
            var S21 = 5, S22 = 9, S23 = 14, S24 = 20;
            var S31 = 4, S32 = 11, S33 = 16, S34 = 23;
            var S41 = 6, S42 = 10, S43 = 15, S44 = 21;
            for (var k = 0; k < x.length; k += 16) {
                var AA = a; var BB = b; var CC = c; var DD = d;
                a = FF(a, b, c, d, x[k + 0], S11, 0xD76AA478); d = FF(d, a, b, c, x[k + 1], S12, 0xE8C7B756);
                c = FF(c, d, a, b, x[k + 2], S13, 0x242070DB); b = FF(b, c, d, a, x[k + 3], S14, 0xC1BDCEEE);
                a = FF(a, b, c, d, x[k + 4], S11, 0xF57C0FAF); d = FF(d, a, b, c, x[k + 5], S12, 0x4787C62A);
                c = FF(c, d, a, b, x[k + 6], S13, 0xA8304613); b = FF(b, c, d, a, x[k + 7], S14, 0xFD469501);
                a = FF(a, b, c, d, x[k + 8], S11, 0x698098D8); d = FF(d, a, b, c, x[k + 9], S12, 0x8B44F7AF);
                c = FF(c, d, a, b, x[k + 10], S13, 0xFFFF5BB1); b = FF(b, c, d, a, x[k + 11], S14, 0x895CD7BE);
                a = FF(a, b, c, d, x[k + 12], S11, 0x6B901122); d = FF(d, a, b, c, x[k + 13], S12, 0xFD987193);
                c = FF(c, d, a, b, x[k + 14], S13, 0xA679438E); b = FF(b, c, d, a, x[k + 15], S14, 0x49B40821);
                a = GG(a, b, c, d, x[k + 1], S21, 0xF61E2562); d = GG(d, a, b, c, x[k + 6], S22, 0xC040B340);
                c = GG(c, d, a, b, x[k + 11], S23, 0x265E5A51); b = GG(b, c, d, a, x[k + 0], S24, 0xE9B6C7AA);
                a = GG(a, b, c, d, x[k + 5], S21, 0xD62F105D); d = GG(d, a, b, c, x[k + 10], S22, 0x2441453);
                c = GG(c, d, a, b, x[k + 15], S23, 0xD8A1E681); b = GG(b, c, d, a, x[k + 4], S24, 0xE7D3FBC8);
                a = GG(a, b, c, d, x[k + 9], S21, 0x21E1CDE6); d = GG(d, a, b, c, x[k + 14], S22, 0xC33707D6);
                c = GG(c, d, a, b, x[k + 3], S23, 0xF4D50D87); b = GG(b, c, d, a, x[k + 8], S24, 0x455A14ED);
                a = GG(a, b, c, d, x[k + 13], S21, 0xA9E3E905); d = GG(d, a, b, c, x[k + 2], S22, 0xFCEFA3F8);
                c = GG(c, d, a, b, x[k + 7], S23, 0x676F02D9); b = GG(b, c, d, a, x[k + 12], S24, 0x8D2A4C8A);
                a = HH(a, b, c, d, x[k + 5], S31, 0xFFFA3942); d = HH(d, a, b, c, x[k + 8], S32, 0x8771F681);
                c = HH(c, d, a, b, x[k + 11], S33, 0x6D9D6122); b = HH(b, c, d, a, x[k + 14], S34, 0xFDE5380C);
                a = HH(a, b, c, d, x[k + 1], S31, 0xA4BEEA44); d = HH(d, a, b, c, x[k + 4], S32, 0x4BDECFA9);
                c = HH(c, d, a, b, x[k + 7], S33, 0xF6BB4B60); b = HH(b, c, d, a, x[k + 10], S34, 0xBEBFBC70);
                a = HH(a, b, c, d, x[k + 13], S31, 0x289B7EC6); d = HH(d, a, b, c, x[k + 0], S32, 0xEAA127FA);
                c = HH(c, d, a, b, x[k + 3], S33, 0xD4EF3085); b = HH(b, c, d, a, x[k + 6], S34, 0x4881D05);
                a = HH(a, b, c, d, x[k + 9], S31, 0xD9D4D039); d = HH(d, a, b, c, x[k + 12], S32, 0xE6DB99E5);
                c = HH(c, d, a, b, x[k + 15], S33, 0x1FA27CF8); b = HH(b, c, d, a, x[k + 2], S34, 0xC4AC5665);
                a = II(a, b, c, d, x[k + 0], S41, 0xF4292244); d = II(d, a, b, c, x[k + 7], S42, 0x432AFF97);
                c = II(c, d, a, b, x[k + 14], S43, 0xAB9423A7); b = II(b, c, d, a, x[k + 5], S44, 0xFC93A039);
                a = II(a, b, c, d, x[k + 12], S41, 0x655B59C3); d = II(d, a, b, c, x[k + 3], S42, 0x8F0CCC92);
                c = II(c, d, a, b, x[k + 10], S43, 0xFFEFF47D); b = II(b, c, d, a, x[k + 1], S44, 0x85845DD1);
                a = II(a, b, c, d, x[k + 8], S41, 0x6FA87E4F); d = II(d, a, b, c, x[k + 15], S42, 0xFE2CE6E0);
                c = II(c, d, a, b, x[k + 6], S43, 0xA3014314); b = II(b, c, d, a, x[k + 13], S44, 0x4E0811A1);
                a = II(a, b, c, d, x[k + 4], S41, 0xF7537E82); d = II(d, a, b, c, x[k + 11], S42, 0xBD3AF235);
                c = II(c, d, a, b, x[k + 2], S43, 0x2AD7D2BB); b = II(b, c, d, a, x[k + 9], S44, 0xEB86D391);
                a = addUnsigned(a, AA); b = addUnsigned(b, BB); c = addUnsigned(c, CC); d = addUnsigned(d, DD);
            }
            return (wordToHex(a) + wordToHex(b) + wordToHex(c) + wordToHex(d)).toLowerCase();
        }

        document.getElementById('email').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') analyzeEmail();
        });

        async function analyzeEmail() {
            const email = document.getElementById('email').value.trim().toLowerCase();
            if (!email || !email.includes('@')) {
                alert('Ingres√° un email v√°lido');
                return;
            }

            const username = email.split('@')[0];
            const domain = email.split('@')[1];
            const emailHash = md5(email);

            // Update HIBP link
            document.getElementById('hibpLink').href = `https://haveibeenpwned.com/account/${encodeURIComponent(email)}`;

            // Check Gravatar
            const gravatarUrl = `https://www.gravatar.com/avatar/${emailHash}?d=404&s=200`;
            const gravatarResult = document.getElementById('gravatarResult');

            try {
                const response = await fetch(gravatarUrl);
                if (response.ok) {
                    gravatarResult.innerHTML = `
                        <img src="https://www.gravatar.com/avatar/${emailHash}?s=200" class="gravatar-img" alt="Gravatar">
                        <div class="gravatar-info">
                            <span class="status-badge found">Encontrado</span>
                            <h4>Foto de perfil asociada</h4>
                            <p>Este email tiene una foto de perfil global que se usa en WordPress, GitHub, y otros sitios.</p>
                            <a href="https://gravatar.com/${emailHash}" target="_blank" style="color: var(--accent); font-size: 0.9rem;">Ver perfil completo ‚Üí</a>
                        </div>
                    `;
                } else {
                    gravatarResult.innerHTML = `
                        <div class="gravatar-img" style="display: flex; align-items: center; justify-content: center; color: var(--text-muted);">?</div>
                        <div class="gravatar-info">
                            <span class="status-badge not-found">No encontrado</span>
                            <h4>Sin Gravatar</h4>
                            <p>Este email no tiene una foto de perfil global asociada.</p>
                        </div>
                    `;
                }
            } catch (e) {
                gravatarResult.innerHTML = `
                    <div class="gravatar-info">
                        <span class="status-badge not-found">Error</span>
                        <p>No se pudo verificar Gravatar. Intent√° de nuevo.</p>
                    </div>
                `;
            }

            // Generate account links
            const accounts = [
                { name: 'GitHub', url: `https://github.com/${username}` },
                { name: 'Twitter/X', url: `https://twitter.com/${username}` },
                { name: 'Instagram', url: `https://instagram.com/${username}` },
                { name: 'LinkedIn', url: `https://linkedin.com/in/${username}` },
                { name: 'Medium', url: `https://medium.com/@${username}` },
                { name: 'Reddit', url: `https://reddit.com/user/${username}` },
            ];

            document.getElementById('accountsList').innerHTML = accounts.map(acc => `
                <a class="link-item" href="${acc.url}" target="_blank">
                    ${acc.name} (${username})
                    <span>Verificar ‚Üí</span>
                </a>
            `).join('');

            // Generate Google Dorks
            const dorks = [
                { query: `"${email}"`, desc: 'Busca el email exacto en toda la web' },
                { query: `"${username}" site:tripadvisor.com`, desc: 'Reviews de viajes (revelan destinos y fechas)' },
                { query: `"${username}" site:yelp.com OR site:google.com/maps`, desc: 'Reviews de restaurantes y negocios (ubicaci√≥n)' },
                { query: `"${email}" filetype:pdf`, desc: 'Documentos PDF con ese email' },
                { query: `"${email}" filetype:xls OR filetype:csv`, desc: 'Listas o bases de datos filtradas' },
            ];

            document.getElementById('dorksList').innerHTML = dorks.map(dork => `
                <div class="dork-item">
                    <div class="dork-query">${dork.query}</div>
                    <div class="dork-desc">${dork.desc}</div>
                    <button class="copy-btn" onclick="copyAndSearch('${dork.query.replace(/'/g, "\\'")}')">
                        Buscar en Google ‚Üí
                    </button>
                </div>
            `).join('');

            // Show results
            document.getElementById('results').classList.add('active');

            // Scroll to results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        function copyAndSearch(query) {
            const searchUrl = `https://www.google.com/search?q=${encodeURIComponent(query)}`;
            window.open(searchUrl, '_blank');
        }
    </script>
</body>
</html>
